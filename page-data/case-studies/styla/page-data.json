{"componentChunkName":"component---src-templates-blog-post-js","path":"/case-studies/styla/","result":{"data":{"site":{"siteMetadata":{"title":"5π Consulting","author":"Johannes 'fish' Ziemke"}},"markdownRemark":{"id":"5ba4bffa-6f17-50aa-b4bf-5159112f14ee","html":"<p>Advising a content commerce startup on Docker migration, AWS deployment and\nDevOps strategy. Debugging a ELB/ECS based pilot deployment.</p>\n<p>Implementation of and migration to lambda based machine learning pipeline.</p>\n<!--end-->\n<blockquote class=\"testimonial\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 268px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6fa4911f9f1160805ce38ae20d7a3b1e/6b6e1/alex.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAQFAQMG/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAG30SK8bRho52aFLDf/xAAbEAEBAAIDAQAAAAAAAAAAAAADAgASAQQRE//aAAgBAQABBQJb+cQib4k7SflNi9hKpkqTC+UL/8QAFREBAQAAAAAAAAAAAAAAAAAAIEH/2gAIAQMBAT8Bg//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EACAQAAEEAgEFAAAAAAAAAAAAAAEAAhExECEDEhNBUXH/2gAIAQEABj8CmJ9BdPKG7qMfNoQKxcQfC7jdOKDja//EABwQAAIBBQEAAAAAAAAAAAAAAAERABAhMUFRcf/aAAgBAQABPyHfRroYtBbjweUFdDZIOPRflNFrQgSIgGovFuT/2gAMAwEAAgADAAAAEKzIQP/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EAFMJ//EABYRAQEBAAAAAAAAAAAAAAAAAAERIP/aAAgBAgEBPxBW4//EAB0QAQACAQUBAAAAAAAAAAAAAAEAESEQMUFRYbH/2gAIAQEAAT8QFSnBOTYhhiMh2Wv6aU64Aem0AwFNzbvF37FiMc8NRY4XlhIrgGO9mCeLBrRP/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Alexander Kong\" title=\"\" src=\"/static/6fa4911f9f1160805ce38ae20d7a3b1e/6b6e1/alex.jpg\" srcset=\"/static/6fa4911f9f1160805ce38ae20d7a3b1e/d2f63/alex.jpg 163w,\n/static/6fa4911f9f1160805ce38ae20d7a3b1e/6b6e1/alex.jpg 268w\" sizes=\"(max-width: 268px) 100vw, 268px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <code>\n    We worked with Johannes on two projects and greatly benefited from his knowledge and experience.\n  </code>\n  <footer><cite>Alexander Kong, CTO at Styla.com</cite></footer>\n</blockquote>\n<h2 id=\"about-styla\" style=\"position:relative;\"><a href=\"#about-styla\" aria-label=\"about styla permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>About Styla</h2>\n<p><img src=\"/40c7d3d40842ccd99311f9b8157b07be/styla.svg\" alt=\"Logo\">\n<a href=\"https://www.styla.com/\">Styla</a> offers a Content Experience Engine that\nautomatically designs your content and makes it shoppable, inspiring your\ncustomers to buy more.</p>\n<p>Styla’s automation technology designs your content in real-time and enhances the\nuser experience on every device.</p>\n<h2 id=\"docker-migration-and-aws-devops-strategy-consulting\" style=\"position:relative;\"><a href=\"#docker-migration-and-aws-devops-strategy-consulting\" aria-label=\"docker migration and aws devops strategy consulting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker migration and AWS DevOps strategy consulting</h2>\n<p>Before they contacted me, Styla’s stack consisted of Ansible managed AWS EC2\ninstances with their applications directly deployed to the machine ad-hoc.</p>\n<p>When expanding their product to more markets, Styla contracted me for a day to\ndiscuss their challenges and advise them on further and more robust automation,\nwith the goal of having all the infrastructure as code.</p>\n<p>Styla already experimented with Docker and wanted to deploy on <a href=\"https://aws.amazon.com/ecs/\">AWS\nECS</a> but had severe issues with a python based data\ndashboard. The application, running behind an AWS ELB, became unresponsive about\nevery minute. My investigations showed that their application used blocking IO\nand was single threaded. Since the AWS ELB health checks didn’t close the\nconnection, the application didn’t respond to request until it timed out.\nRunning the application as workers under a pre-forking HTTP server solved this\nproblem.</p>\n<p>After discussing the goals and specifics of the infrastructure, I recommended\nusing Cloudformation for the deployment of the ECS cluster and other\ninfrastructure. This allows to keep all stack configuration in simple JSON/YAML\ndocuments that can be used to rollout changes to the infrastructure in a\ncontrolled fashion. To keep the existing workflows, the template can be executed\nby Ansible.</p>\n<p>Over the course of the next months, Styla implemented the recommended\ninfrastructure which is powering the platform ever since.</p>\n<blockquote class=\"float-right\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 268px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6fa4911f9f1160805ce38ae20d7a3b1e/6b6e1/alex.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAQFAQMG/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAG30SK8bRho52aFLDf/xAAbEAEBAAIDAQAAAAAAAAAAAAADAgASAQQRE//aAAgBAQABBQJb+cQib4k7SflNi9hKpkqTC+UL/8QAFREBAQAAAAAAAAAAAAAAAAAAIEH/2gAIAQMBAT8Bg//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EACAQAAEEAgEFAAAAAAAAAAAAAAEAAhExECEDEhNBUXH/2gAIAQEABj8CmJ9BdPKG7qMfNoQKxcQfC7jdOKDja//EABwQAAIBBQEAAAAAAAAAAAAAAAERABAhMUFRcf/aAAgBAQABPyHfRroYtBbjweUFdDZIOPRflNFrQgSIgGovFuT/2gAMAwEAAgADAAAAEKzIQP/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EAFMJ//EABYRAQEBAAAAAAAAAAAAAAAAAAERIP/aAAgBAgEBPxBW4//EAB0QAQACAQUBAAAAAAAAAAAAAAEAESEQMUFRYbH/2gAIAQEAAT8QFSnBOTYhhiMh2Wv6aU64Aem0AwFNzbvF37FiMc8NRY4XlhIrgGO9mCeLBrRP/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Alexander Kong\" title=\"\" src=\"/static/6fa4911f9f1160805ce38ae20d7a3b1e/6b6e1/alex.jpg\" srcset=\"/static/6fa4911f9f1160805ce38ae20d7a3b1e/d2f63/alex.jpg 163w,\n/static/6fa4911f9f1160805ce38ae20d7a3b1e/6b6e1/alex.jpg 268w\" sizes=\"(max-width: 268px) 100vw, 268px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <code>\n    We were impressed how Johannes gathered insights into our application on a system level and quickly solved our application issue.\n  </code>\n  <footer><cite>Alexander Kong, CTO at Styla.com</cite></footer>\n</blockquote>\n<h2 id=\"machine-learning-stack\" style=\"position:relative;\"><a href=\"#machine-learning-stack\" aria-label=\"machine learning stack permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Machine Learning Stack</h2>\n<p>As a data driven platform, there is a strong need for a reliable machine\nlearning pipeline.</p>\n<p>After Styla successfully adopted the discussed infrastructure changes, revamping\nthe machine learning pipeline was the next project I was involved with.</p>\n<p>The first step in the pipeline is structuring the data. To minimize ongoing\noperational costs, we decided to use <a href=\"https://aws.amazon.com/lambda\">AWS Lambda</a>\nto automatically run Styla’s structuring code when new data gets written to a S3\nbucket. This code uploads the results to a new bucket which triggers another\nLambda to load the structured data into various data stores.</p>\n<p>Beside the Lambda based pipeline, the stack consist of a Spark cluster for\nfurther processing and data stores that can be queries from Styla’s backend services.</p>\n<p>I configured and deployed the stack as Cloudformation templates wrapped in\nAnsible roles, consistent with Styla’s general deployment workflow.</p>\n<p>Especially when it comes to data warehousing and analysis, security is of utmost\nimportance. Therefor the stack follows the security best practices by using\nindividual IAM roles for each Lambda and data store with tightly locked down\npolicies that grant only the necessary permissions.</p>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>Whether you need consulting, troubleshooting or hands-on help with building your\ninfrastructure, <a href=\"/hire-me\">let me know</a>.</p>","frontmatter":{"title":"Styla: Content Experience Engine","date":null,"image":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAA/klEQVR42u3UTUsCURTG8RnfhvKFXhZB0CKJNkVQoBUEgaAhiot2ItpCJIIikZAIP0HrPrD/A8+FywXDhaALD/yYmTv3Hs6cuTNRtI1VRhoZT2qjqovxggk+8YOqd88/LlrvRHkcY4Ax+ujiPEhUwqGu7fxAR2tPTuOJTWzhD1+Y4VIJUkEym3eHgua84xr7uEcZF67kJ3zjQ1W2g+osSSeouoEdXT/g1e/BLYZ4Ux+fsesltB2QRQ0VjTXVLotT1MPGJqpwil89vosiHrXoRGMV1zPiCFdusjW0p+pcwpugh+6x95bZMjm91ZG2jvXi7J+tEq/ts/PF2z/R+mIO0KsVdl7isp8AAAAASUVORK5CYII=","width":1200,"height":1200,"src":"/static/dd053cf0290ddf33e5e2d7c57281ab81/6f213/styla.png","srcSet":"/static/dd053cf0290ddf33e5e2d7c57281ab81/6f213/styla.png 1x"}}}}}},"pageContext":{"slug":"/case-studies/styla/","previous":{"fields":{"slug":"/case-studies/koko/"},"frontmatter":{"title":"Koko: AI-Powered Community Moderation"}},"next":false}},"staticQueryHashes":[],"slicesMap":{}}